TODO list
=========================================

ФИЧИ:
---------------------
1. Отображать объекты (полигоны) на карте.
   1.1. Фильтр по категориям
   2.2. Добавить оригинальные tile source 
   2.3. Настройка плотности объектов
2. Режим следования за пользователем.
3. Показывать **описания** объектов с фото и комментариями.
4. **Поиск** по ключевой фразе.
   4.1. Сортировка результатов по присутствию ключевого слова в названии
   4.2. Фильтрация по категориям
   4.3. Сортировка и фильтрация по расстоянию (&distance= не работает)
   4.4. Настройка количества результатов поиска в выдаче
5. Переход к локации по координатам.
6. Добавлять объекты в **избранное**.
7. **Offline-режим**
   6.1. Кэшировать области карты, уметь очищать кэш
   6.2. Сохранять в базу данных объекты и категории
   6.3. Поиск по локально сохранённым данным в оффлайне.
   6.4. Кеширование фотографий объектов под настройку.
8. Обрабатывать переход по ссылке из барузера, уметь отображать не только описание, но и переходить к карте с объектом в центре.
9. Использовать разные провайдеры карт (OSMDroid, Google maps, Yandex(???)).
10. Использовать различные слои карты.
11. Измерение расстояния между точками.
12. Иметь возможность поделиться координатами объекта.
13. Иметь возможность поделиться ссылкой на объект.

.
=========================================

ОПИСАНИЕ
========================================

3.  Переделать ViewState чтобы он не содержал объекта Place.
6.  Перенести обработку action-ов в ViewModel
7.  Сделать навигацию обратно на карту из описания объекта с центровкой на объекте.
8.  Показывать ссылку на википедию, если она есть.
9.  Сделать перехват ссылок на wikimapia.org.
10. Подсвечивать тэги. 

КАРТА
========================================
1.  Сделать ViewState-ы для каждого изменения состояния карты: не только новые данные, но и изменения настроек.
3.  Переделать вывод названия выбраного объекта так, чтобы он всегда был контрастный.
4.  Добавить изменение границ масштабирования в зависимости от того, какие тайлы используются.
5.  Добавить кнопку центровки на своём положении, добавить ей возможность менять масштаб, аналогично оригинальному приложению.
6.  Сделать настройку "Центрировать карту на выбранном объекте". По умолчанию - отключена.
7.  Добавить возможность включать/отключать следование за своим местоположеием, добавить соответствующую настройку.
8.  Изменить дефолтную иконку своего расположения.
9.  Выяснить, нужно ли делать свою базу для каждого типа тайлов, и если нужно, то сделать.
10. Добавить настройки для включения/отключения слоёв карты, а тж. показывания/сокрытия своих обозначений.
12. Добавить возможность предзагрузки карты с нужной глубиной детализации для последующей оффлайн-работы.
13. Отрисовывать свои не выбранные полигоны ТОЛЬКО тогда, когда отключен слой тайлов викимапии, в противном случае рисовать только выделенный контур.
17. Отладить логику перерисовки полигонов в случае если их вообще нужно рисовать (когда отключен слой викимапии).
18. Разобраться с android.database.sqlite.SQLiteCantOpenDatabaseException: Cannot open database '/storage/emulated/0/osmdroid/tiles/cache.db': Directory /storage/emulated/0/osmdroid/tiles doesn't exist
    18.1. Директория с файлом действительно не существуют. Нужно создавать руками. Переделать чтобы клалось в application data directory.
19. ОТРЕФАКТОРИТЬ!!!!!!!!!!!!11111) Предоставлять зависимости Dagger-ом.

РЕФАКТОРИНГ
========================================
1. Добавить недостающие поля в Entity.
2. Проверить, созданы ли все необюходимые DTO.
3. Закончить с MVI в карте.