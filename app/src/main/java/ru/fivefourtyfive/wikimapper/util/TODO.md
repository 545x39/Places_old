TODO list
=========================================

ФИЧИ:
---------------------
1. Отображать объекты (полигоны) на карте.
   1.1. Фильтр по категориям
   2.2. Добавить оригинальные tile source 
   2.3. Настройка плотности объектов
2. Функции навигатора.
   1.1. Следование за своим местоположением и азимутом.
   1.2. Построение и отображение маршрутов до объекта.
3. Показывать **описания** объектов с фото и комментариями.
4. **Поиск** по ключевой фразе.
   4.1. Сортировка результатов по присутствию ключевого слова в названии
   4.2. Фильтрация по категориям
   4.3. Сортировка и фильтрация по расстоянию (&distance= не работает)
   4.4. Настройка количества результатов поиска в выдаче
5. Переход к локации по координатам.
6. Добавлять объекты в **избранное**.
7. **Offline-режим**
   6.1. Кэшировать области карты, уметь очищать кэш
   6.2. Сохранять в базу данных объекты и категории
   6.3. Поиск по локально сохранённым данным в оффлайне.
   6.4. Кеширование фотографий объектов под настройку.
8. Обрабатывать переход по ссылке из барузера, уметь отображать не только описание, но и переходить к карте с объектом в центре.
9. Показывать организации в адресе (с использованием yandex mapKit).
10. Использовать различные слои карты.
11. Измерение расстояния между точками.
12. Иметь возможность поделиться координатами объекта.
13. Иметь возможность поделиться ссылкой на объект.

.
=========================================

ОПИСАНИЕ
========================================

1.  Переделать ViewState чтобы он не содержал объекта Place.
2.  Перенести обработку action-ов в ViewModel
3.  Сделать открытие фотографий в максимальном разрешении на весь экран.
4.  Показывать ссылку на википедию, если она есть.
5.  Сделать перехват ссылок на wikimapia.org.
6.  Подсвечивать тэги.
7.  Кешировать загруженные фотографии.

КАРТА
========================================

1.  Сделать сравнение местоположения в isLocationTheSame() приблизительным, а не точным: разная точность координат приводит к отправке лишних запросов.
2.  Отладить автоповорот карты в "режиме навигатора" (подобрать оптимальные значения минимальной дистанции, частоты обновления, скорость самого доворота карты)
    2.1. Сделать автоповорот независимой от режима слежения настройкой.
3.  Улучшить констрастность:
    3.1. Сделать подсветку выбранного полигона более яркой.
    3.2. Сделать обводку более контрастной в режиме схемы.
    3.3. Переделать вывод названия выбраного объекта так, чтобы он всегда был контрастный и показывать его по центру объекта. 
4.  Переход к описанию - по щелчку на названии объекта, а не на полигоне.
    4.1. Щелчок по полигону должен просто снимать с него выделение.
5.  Добавить кнопку центровки на своём положении
    5.1. Добавить кнопке возможность менять масштаб, аналогично оригинальному приложению.
    5.2. Включать/отключать ей режим слежения (возможно)
6.  Сделать настройку "Центрировать карту на выбранном объекте". По умолчанию - отключена.
7.  Изменить дефолтную иконку своего расположения.
8.  Перенести логику слияния имеющихся полигонов с вновь полученными из сети во ViewModel, во фрагмент отправлять списки полигонов на удаление и на добавление.
9.  Добавить возможность предзагрузки карты с нужной глубиной детализации для последующей оффлайн-работы.
10. Разобраться с багом про android.database.sqlite.SQLiteCantOpenDatabaseException: 
    Cannot open database '/storage/emulated/0/osmdroid/tiles/cache.db': Directory /storage/emulated/0/osmdroid/tiles doesn't exist 18.1. Это дефолтная.
11. Разобраться почему на малых зумах викимапия присылает контуры только для части области (или это я их не все отрисовываю???).
    11.1. Не кидать запросы в викимапию и очищать (либо скрывать - решить как лучше) folder при слишком маленьих значениях Zoom-а или дозапрашивать дополнительные.

КЕШИРОВАНИЕ ДАННЫХ
========================================
1. Складывать в базу полигоны с названиями.
2. Складывать в базу загруженные описания объектов с комментарями и тэгами.
3. Добавлять объекты на карте в закладки.
4. Алгоритм показа и обновления описаний (по дефолту показывать из кэша, после - подгружать данные из сети и обновлять их если они изменились (добавлен коментарий, фото и т.д.))
5. Алгоритм показа полигонов в оффлайн-режиме (какие объекты выбирать из базы в зависимости от масштаба)
6. "Глубокое" кеширование области местности (запрос не только ста объектов с первой страницы, но всех страниц)
7. Складывать в базу и уметь показывать и обновлять организации в адресах.

РЕФАКТОРИНГ
========================================
1. Добавить недостающие поля в Entity.
2. Проверить, созданы ли все необюходимые DTO.
3. Закончить с MVI в карте.